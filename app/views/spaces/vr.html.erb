
<%= render 'shared/navbar_vr' %>


<div id="embeddedScene">

  <a-scene id="aframeScene" background="color: #FAFAFA" embedded>

    <a-assets>


        <img id="outerspace" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583494818/milkyway_zbfpih.jpg">
        <img id="city" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583803118/cityscape_qhvlo5.jpg">
        <a-asset-item id="scene" src="<%= @space.modelURL %>">
        <a-asset-item id="frame" src="https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/fancy_picture_frame/scene.gltf">

        <% @space.artworks.each_with_index do |artwork, index| %>
          <%= cl_image_tag artwork.photo.key, id: "painting#{index+1}" %>
        <% end %>




     <!--    <img id="painting1" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583505258/anni_albers_x2ehkj.png">
        <img id="painting2" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583504849/basquiat_llqmo3.jpg">
        <img id="painting3" src="https://res.cloudinary.com/dt47helyp/image/upload/v1582896632/kv98cblew2r8yxdeoyejy6rqov1x.jpg">
        <img id="painting4" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583504969/schiele_lrwfel.jpg">
        <img id="painting5" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583505056/picasso_zkgp7c.jpg">
 -->




      <!-- <img src="https://www.howtogeek.com/wp-content/uploads/2018/06/shutterstock_1006988770.png" id="image"> -->
    </a-assets>

    <a-entity id="mouseCursor" cursor="rayOrigin: mouse"></a-entity>


    <% if @space.modelURL == 'https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/vr_gallery_vintage_for_product_showcase_2019/scene.gltf' %>
      <a-gltf-model src="#scene" position="1 0 0" scale="0.02 0.02 0.02"></a-gltf-model>
      <a-entity light="type: ambient; color: #CCC; intensity:1.6" position="4 12 4"></a-entity>
      <a-sky src="#city"></a-sky>
    <% elsif @space.modelURL == 'https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/vr_gallery_for_product_showcase_2019/scene.gltf' %>
      <a-gltf-model src="#scene" position="0 5 0" scale="0.04 0.04 0.04"></a-gltf-model>
      <a-entity light="type: ambient; color: #CCC; intensity: 2.7" position="4 6 4"></a-entity>
      <a-sky src="#outerspace"></a-sky>
    <% elsif @space.modelURL == 'https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/vr_gallery_for_product_showcase_2019_outdated/scene.gltf' %>
      <a-gltf-model src="#scene" position="1 0 0" scale="0.01 0.01 0.01"></a-gltf-model>
      <a-entity light="type: ambient; color: #CCC; intensity: 4.5" position="1 1 1"></a-entity>
    <% elsif @space.modelURL == 'https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/gd55_el_a1_erikhernandez/scene.gltf' %>
      <a-gltf-model src="#scene" position="0 0 0"></a-gltf-model>
      <a-entity light="type:point; intensity:7;" position="0.2 0.2 0.2"></a-entity>
      <a-sky src="#outerspace"></a-sky>
    <% elsif @space.modelURL == 'https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/abandoned_warehouse_-_interior_scene_comp/scene.gltf' %>
      <a-gltf-model src="#scene" position="-6 5.7 0" scale="10 10 10"></a-gltf-model>
      <a-entity light="type: ambient; color: #CCC; intensity: 4.5" position="1 1 1"></a-entity>
      <a-sky src="#city"></a-sky>
      <a-entity setCamera id='cameraWrapper' position="0 0 0">
        <a-camera setCamera id='camera' position="0 1 0" look-controls></a-camera>
      </a-entity>
    <% end %>


    <!-- Add all objects below -->

      <a-entity dragndrop geometry="primitive: box; width:1.15; height:1.6;" material="transparent: true; opacity: 0;" position="-4 2 1" rotation="0 90 0">
        <a-plane  material="shader:flat" src="#painting1" width="1.15" height="1.6" color="#FFFFFF" side="double"> </a-plane>
        <a-gltf-model src="#frame" rotation="0 -90 0"></a-gltf-model>
      </a-entity>

    <a-entity dragndrop geometry="primitive: box" material="color: red">


    <!-- <a-gltf-model  src="#frame" position="-1 3.6 8" rotation="0 90 -20" scale="1 2 3"></a-gltf-model>
    <a-plane  <% posx = -1 %>
              <% posy = 3.6 %>
              <% posz = 8 %>
              <% rotx = -20 %>
              <% roty = 0 %>
              <% rotz = 0 %>
              material="shader:flat" src="#painting2" position="<%=posx%> <%=posy%> <%=posz%>" rotation="-20 0 0" width="1.15" height="1.6" scale="3 2 1" color="#FFFFFF" side="double"
              >
    </a-plane>


    <a-gltf-model  src="#frame" position="4 1.5 1" rotation="0 180 0"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting3" position="4 1.5 1" rotation="0 270 0" width="1.15" height="1.6" color="#FFFFFF" side="double"></a-plane>


    <a-gltf-model  src="#frame" position="4 1.5 3" rotation="0 180 0"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting4" position="4 1.5 3" rotation="0 270 0" width="1.15" height="1.6" color="#FFFFFF" side="double"></a-plane>

    <a-gltf-model  src="#frame" position="-1 3.6 -30" rotation="0 270 0" scale="1 4 6"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting5" position="-1 3.6 -30" rotation="0 180 0" width="1.15" height="1.6" scale="6 4 1" color="#FFFFFF" side="double"></a-plane>

    <a-entity setCamera id='cameraWrapper' position="0 0 0">
        <a-camera setCamera id='camera' position="0 1 0" look-controls></a-camera>
    </a-entity>
 -->







    <!-- <a-box id="box" position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9" shadow></a-box>
    <a-sphere position="0 1.25 -5" radius="1.25" color="#EF2D5E" shadow></a-sphere>
    <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D" shadow></a-cylinder> -->

   <!--  <a-plane position="0 0 -4" rotation="-90 0 0" width="8" height="4" color="#7BC8A4" shadow side="double"></a-plane>
    <a-plane position="-4 2 -4" rotation="0 90 0" width="4" height="4" color="#ff2b2b" shadow side="double"></a-plane>
    <a-plane position="4 2 -4" rotation="180 90 0" width="4" height="4" color="#ff2b2b" shadow side="double"></a-plane>
 -->
    <!-- <a-box click-drag src="#image" position="0 2 -5" rotation="0 45 45" scale="2 2 2"></a-box> -->

    <!-- <a-plane src="https://res.cloudinary.com/dt47helyp/image/upload/v1582908637/9gxm0f4us4aas9rd5312jg2rhy71.jpg" position="4 2 -4" rotation="0 0 0" width="4" height="4"></a-plane> -->
    <!-- <a-entity camera="active: true" look-controls wasd-controls position="0 1.6 0" data-aframe-default-camera></a-entity> -->

    <!-- <a-sphere dragndrop position="0 1.25 -1" radius="1.25" color="#EF2D5E"></a-sphere> -->

    <!-- <a-entity gltf-model="#scene" scale="0.01 0.01 0.01"></a-entity> -->

        <!-- <a-camera look-controls-enabled="false" keyboard-controls="fpsMode: true"></a-camera> -->
    <!-- <a-entity camera="" wasd-controls="" no-click-look-controls="maxyaw:0.8;maxpitch:1" fov="80" position="0 1.8 0" near="0.2" cursor-color="#33CCFF" rotation="-55.43552693148874 14.705916741691128 0"></a-entity> -->
  </a-scene>
</div>
