
<%= render 'shared/navbar_vr' %>


<div id="embeddedScene">

  <a-scene id="aframeScene" background="color: #FAFAFA" embedded>

    <a-assets>


        <img id="sky" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583494818/milkyway_zbfpih.jpg">
        <a-asset-item id="scene" src="https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/gd55_el_a1_erikhernandez/scene.gltf">
        <a-asset-item id="frame" src="https://raw.githubusercontent.com/boyanlevchev/threedeemodels/master/models/fancy_picture_frame/scene.gltf">


        <% @space.artworks.each_with_index do |artwork, index| %>
          <%= cl_image_tag artwork.photo.key, id: "painting#{index+1}" %>
        <% end %>




     <!--    <img id="painting1" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583505258/anni_albers_x2ehkj.png">
        <img id="painting2" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583504849/basquiat_llqmo3.jpg">
        <img id="painting3" src="https://res.cloudinary.com/dt47helyp/image/upload/v1582896632/kv98cblew2r8yxdeoyejy6rqov1x.jpg">
        <img id="painting4" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583504969/schiele_lrwfel.jpg">
        <img id="painting5" src="https://res.cloudinary.com/dt47helyp/image/upload/v1583505056/picasso_zkgp7c.jpg">
 -->




      <!-- <img src="https://www.howtogeek.com/wp-content/uploads/2018/06/shutterstock_1006988770.png" id="image"> -->
    </a-assets>


    <a-sky src="#sky"></a-sky>
    <a-gltf-model src="#scene" position="0 0 0"></a-gltf-model>
    <a-entity light="type:point; intensity:7;" position="0.2 0.2 0.2"></a-entity>

    <!-- Add all objects below -->
    <a-gltf-model  class= "artwork" src="#frame" position="-4 1.5 1"></a-gltf-model>
    <a-plane  rotation-control scale-control id="pic" material="shader:flat" src="#painting1" position="-4 1.5 1" rotation="0 90 0" width="1.15" height="1.6" color="#FFFFFF" side="double" toggle-side-panel="_event: click">
    </a-plane>


    <a-gltf-model  src="#frame" position="-1 3.6 8" rotation="0 90 -20" scale="1 2 3"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting2" position="-1 3.6 8" rotation="-20 0 0" width="1.15" height="1.6" scale="3 2 1" color="#FFFFFF" side="double"></a-plane>


    <a-gltf-model  src="#frame" position="4 1.5 1" rotation="0 180 0"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting3" position="4 1.5 1" rotation="0 270 0" width="1.15" height="1.6" color="#FFFFFF" side="double"></a-plane>


    <a-gltf-model  src="#frame" position="4 1.5 3" rotation="0 180 0"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting4" position="4 1.5 3" rotation="0 270 0" width="1.15" height="1.6" color="#FFFFFF" side="double"></a-plane>

    <a-gltf-model  src="#frame" position="-1 3.6 -30" rotation="0 270 0" scale="1 4 6"></a-gltf-model>
    <a-plane  material="shader:flat" src="#painting5" position="-1 3.6 -30" rotation="0 180 0" width="1.15" height="1.6" scale="6 4 1" color="#FFFFFF" side="double"></a-plane>

    <a-entity id='cameraWrapper' position="-1 0 0" rotation="0 100 0" look-at="#target">
      <a-camera >

      </a-camera>
    </a-entity>

    <% if @space.user == current_user %>
    <div id="#side-panel" class="sidePanel hidden">
      <label for="size">Size</label>
      <input type="range" id="size" name="size"
        min="0" max="10" value="1" step="0.1">

      <label for="rotation-x">Rotation x</label>
      <input type="range" id="rx" name="rotation-x"
        min="-90" max="90" value="0" step="1">

      <label for="rotation-y">Rotation y</label>
      <input type="range" id="ry" name="rotation-x"
        min="-90" max="90" value="-90" step="1">

      <label for="rotation-z">Rotation z</label>
      <input type="range" id="rz" name="rotation-z"
        min="-180" max="180" value="180" step="1">
    </div>
  <% end %>
  </a-scene>
</div>

<script>

</script>


